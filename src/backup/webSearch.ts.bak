export interface WebSearchOptions {
  /**
   * The maximum number of results to return. Currently unused but reserved for future expansion.
   */
  limit?: number;
}

/**
 * Mock implementation of a web search that returns a simulated result string.
 *
 * The function validates its input and throws a descriptive error if the query
 * is empty or only whitespace.  It also accepts an optional options object that
 * can be extended in future iterations to e.g. limit the number of results or
 * configure the search provider.
 *
 * @param query - The search query string.
 * @param options - Optional search configuration.
 * @returns A promise that resolves to a string containing the simulated
 *          search results for the provided query.
 */
export async function webSearch(query: string, options?: WebSearchOptions): Promise<string> {
  // Trim to guard against accidental whitespace queries.
  const trimmedQuery = query.trim();
  if (!trimmedQuery) {
    throw new Error('webSearch: query must be a nonâ€‘empty string');
  }

  // Simulate an asynchronous operation; this mirrors the behaviour of a real
  // HTTP request without performing network IO.
  await new Promise((resolve) => setTimeout(resolve, 10));

  // Return a deterministic result string for deterministic unit tests.
  return `search results for: ${trimmedQuery}`;
}
