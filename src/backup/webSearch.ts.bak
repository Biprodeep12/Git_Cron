export interface WebSearchOptions {
  /**
   * The maximum number of results to return. Currently not used but kept for
   * future expansion of the mock implementation.
   */
  limit?: number;
}

/**
 * Performs a mock web search. The function validates the input query and
 * returns a deterministic string that can be used in unit tests. It accepts
 * an optional options object that may be extended later.
 *
 * @example
 * await webSearch('cats');
 * // => 'search results for: cats'
 *
 * @param query   – The search query string. Must be non‑empty after trimming.
 * @param options – Optional configuration, e.g. a future `limit` feature.
 * @returns A promise that resolves to a string representing the mock search
 *          results.
 * @throws {Error} If the query is empty or only whitespace.
 */
export async function webSearch(
  query: string,
  options: WebSearchOptions = {},
): Promise<string> {
  const trimmedQuery = query.trim();
  if (!trimmedQuery) {
    throw new Error('webSearch: query must be a non‑empty string');
  }

  // The `limit` option is currently unused, but we keep it so the
  // function signature reflects a realistic API. The helper below prevents
  // TS‑lint warnings about the unused variable.
  const { limit } = options;
  _void(limit); // silence unused variable warning

  // Simulate async work (e.g., an HTTP request) without external dependencies.
  await new Promise((resolve) => setTimeout(resolve, 10));

  return `search results for: ${trimmedQuery}`;
}

/**
 * Utility that no‑ops a value so the compiler does not complain about
 * unused‑parameter warnings when the implementation is a stub.
 */
function _void(_value: unknown): void {}
